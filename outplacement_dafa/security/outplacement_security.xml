<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- TODO: is_jobseeker doesn't exist. Decide how to do this. -->
        <!--
        <record id="rule_res_partner_dafa" model="ir.rule">
            <field name="name">DAFA Jobseeker</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|', ('is_jobseeker', '=', False), ('jobseeker_operation_id', 'in', user.mapped('performing_operation_ids.id'))]</field>
        </record>
        -->
        <record id="rule_outplacement_participants" model="ir.rule">
            <field name="name">DAFA Outplacement Handläggare</field>
            <field name="model_id" ref="outplacement.model_outplacement"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups"
                   eval="[(6, 0, [ref('base_user_groups_dafa.group_dafa_participants_read'), ref('base_user_groups_dafa.group_dafa_participants_write')])]"/>
        </record>
        <record id="rule_outplacement_org_admin" model="ir.rule">
            <field name="name">DAFA Outplacement Orgadmin</field>
            <field name="model_id" ref="outplacement.model_outplacement"/>
            <field name="domain_force">[('employee_id', 'in', user.mapped('employee_ids.id'))]</field>
            <field name="groups" eval="[(6, 0, [ref('base_user_groups_dafa.group_dafa_org_admin_write')])]"/>
        </record>
        <record id="rule_outplacement_employees" model="ir.rule">
            <field name="name">DAFA Outplacement Hantera Anställda</field>
            <field name="model_id" ref="outplacement.model_outplacement"/>
            <field name="domain_force">['|', ('performing_operation_id', '=', False), ('performing_operation_id', 'in',
                user.mapped('performing_operation_ids.id'))]
            </field>
            <field name="groups" eval="[(6, 0, [ref('base_user_groups_dafa.group_dafa_employees_read')])]"/>
        </record>
        <record id="rule_partner_participants" model="ir.rule">
            <field name="name">DAFA Partner Handläggare</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[('outplacement_ids.employee_id', 'in', user.mapped('employee_ids.id'))]</field>
            <field name="groups" eval="[(6, 0, [ref('base_user_groups_dafa.group_dafa_employees_read')])]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
    </data>
</odoo>
