<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!--
        @param {mail.systray.MessagingMenu} widget
    -->

    <t t-name="mail.systray.BookingActivityMenu.Previews">
        <t t-if="_.isEmpty(activities)">
            <div class="dropdown-item-text text-center o_no_activity">
                <span>No bookings planned.</span>
            </div>
        </t>
        <t t-foreach="activities" t-as="activity">
            <div class="o_mail_preview" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name"
                 data-filter='my'>
                <div class="o_mail_preview_image o_mail_preview_app">
                    <img t-att-src="activity.icon" alt="Activity"/>
                </div>
                <div class="o_preview_info">
                    <div class="o_preview_title">
                        <span class="o_preview_name">
                            <t t-esc="activity.name"/>
                        </span>
                        <div t-if="activity.actions" class="o_mail_activity_action_buttons">
                            <t t-foreach="activity.actions" t-as="action">
                                <button type="button"
                                        t-att-title="action.name"
                                        t-att-class="'o_mail_activity_action btn btn-link fa ' + action.icon"
                                        t-att-data-action_xmlid="action.action_xmlid"
                                        t-att-data-res_model="activity.model"
                                        t-att-data-model_name="activity.name">
                                </button>
                            </t>
                        </div>
                    </div>
                    <div t-if="activity and activity.type == 'activity'">
                        <button t-if="activity.all_booking_count" type="button"
                                class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model"
                                t-att-data-model_name="activity.name" data-filter='all_booking'>
                            <t t-esc="activity.all_booking_count"/>
                            All Bookings </button>
                        <span t-if="!activity.all_booking_count" class="o_no_activity float-right">0 All Bookings</span>
                         <button t-if="activity.awaiting_booking_count" type="button"
                                class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model"
                                t-att-data-model_name="activity.name" data-filter='awaiting_booking'>
                            <t t-esc="activity.awaiting_booking_count"/>
                            Awaiting Response </button>
                        <span t-if="!activity.awaiting_booking_count" class="o_no_activity float-right">0 Awaiting Response</span>
                        <button t-if="activity.ongoing_booking_count" type="button"
                                class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model"
                                t-att-data-model_name="activity.name" data-filter='ongoing_booking'>
                            <t t-esc="activity.ongoing_booking_count"/>
                            Ongoing </button>
                        <span t-if="!activity.ongoing_booking_count" class="o_no_activity float-right">0 Ongoing</span>
                        <button t-if="activity.not_delivered_booking_count" type="button"
                                class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model"
                                t-att-data-model_name="activity.name" data-filter='not_delivered_booking'>
                            <t t-esc="activity.not_delivered_booking_count"/>
                            Not Delivered </button>
                        <span t-if="!activity.not_delivered_booking_count" class="o_no_activity float-right">0 Not Delivered</span>
                        <button t-if="activity.failed_booking_count" type="button"
                                class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model"
                                t-att-data-model_name="activity.name" data-filter='failed_booking'>
                            <t t-esc="activity.failed_booking_count"/>
                            Failed </button>
                        <span t-if="!activity.failed_booking_count" class="o_no_activity float-right">0 Failed</span>
                        <button t-if="activity.done_booking_count" type="button"
                                class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model"
                                t-att-data-model_name="activity.name" data-filter='done_booking'>
                            <t t-esc="activity.done_booking_count"/>
                            Done </button>
                        <span t-if="!activity.done_booking_count" class="o_no_activity float-right">0 Done</span>
                        <!--                        <span t-if="!activity.active_booking_count" class="o_no_activity mr16">0 Bookings </span>-->
                        <!--                        <button t-if="activity.active_booking_count" type="button" class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter='active_booking'><t t-esc="activity.active_booking_count"/> Bookings </button>-->
                        <!--                        <span t-if="!activity.active_booking_count" class="o_no_activity mr16">0 Bookings </span>-->
                        <!--                        <button t-if="activity.failed_booking_count" type="button" class="btn btn-link o_activity_filter_button mr16" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter='failed_booking'> <t t-esc="activity.failed_booking_count"/> Failed </button>-->
                        <!--                        <span t-if="!activity.failed_booking_count" class="o_no_activity mr16">0 Failed </span>-->
                        <!--                        <button t-if="activity.awaiting_booking_count" type="button" class="btn btn-link o_activity_filter_button float-right" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter='failed_booking'> <t t-esc="activity.awaiting_booking_count"/> Failed </button>-->
                        <!--                        <span t-if="!activity.awaiting_booking_count" class="o_no_activity mr16">0 Failed </span>-->
                        <!--                        <button t-if="activity.done_booking_count" type="button" class="btn btn-link o_activity_filter_button float-right" t-att-data-res_model="activity.model" t-att-data-model_name="activity.name" data-filter='done_booking'> <t t-esc="activity.done_booking_count"/> Done </button>-->
                        <!--                        <span t-if="!activity.done_booking_count" class="o_no_activity float-right">0 Done</span>-->
                    </div>
                </div>
            </div>
        </t>
    </t>


    <t t-name="Bookings.ActivityMenu">
        <li class="o_mail_systray_item" role="menuitem">
            <a class="dropdown-toggle o-no-caret" data-toggle="dropdown" data-display="static" aria-expanded="false"
               title="Booking Activities" href="#" role="button">
                <i class="fa fa-address-book-o" role="img" aria-label="Booking Activities"/>
                <span class="o_notification_counter badge badge-pill"/>
            </a>
            <div class="o_mail_systray_dropdown dropdown-menu dropdown-menu-right" role="menu" style="width:600px">
                <div class="o_mail_systray_dropdown_items"/>
            </div>
        </li>
    </t>

</templates>
