<?xml version="1.0"?>
<odoo>

    <record id="mail_activity_form_view_for_interpreter" model="ir.ui.view">
        <field name="name">mail.activity.form.inherit.interpreter</field>
        <field name="model">mail.activity</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group invisible="1">
                        <field name="activity_category" invisible="1"/>
                        <field name="res_model" invisible="1"/>
                        <field name="res_model_id" invisible="1"/>
                        <field name="res_id" invisible="1"/>
                        <field name="force_next" invisible="1"/>
                        <field name="previous_activity_type_id"/>
                        <field name="has_recommended_activities"/>
                    </group>
                    <group attrs="{'invisible': [('has_recommended_activities','=',False)]}">
                        <div class="o_row">
                            <strong>Recommended Activities</strong>
                            <field name="recommended_activity_type_id" widget="selection_badge"
                                   domain="[('previous_type_ids', '=', previous_activity_type_id)]" nolabel="1"/>
                        </div>
                    </group>
                    <group>
                        <group>
                            <field name="activity_type_id" required="1"
                                   options="{'no_create': True, 'no_open': True}"/>
                            <field name="summary" placeholder="e.g. Discuss proposal"/>
                            <field name="task_outplacement_id" string="Task"/>
                            <field name="interpreter_type_code" invisible="1"/>
                            <field name='interpreter_type_code' invisible='1'/>
                            <field name="interpreter_type"
                                   attrs="{
                            'readonly': [('interpreter_booking_ref', '!=', False)],
                            'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                            'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                   options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                            <field name="interpreter_remote_type"
                                   attrs="{
                            'readonly': [('interpreter_booking_ref', '!=', False)],
                            'required': [('interpreter_type_code', '=', '2'),
                                         ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                            'invisible': ['|',
                                          ('interpreter_type_code', '!=', '2'),
                                          ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                   options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                            <field name="interpreter_receiver"
                                   attrs="{
                            'invisible': ['|',
                                ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d),
                                ('interpreter_type_code', '!=', '3'),],
                            'required': [('interpreter_type_code', '=', '3'),
                                         ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                   options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                            <label for="street" string="Address" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)],}"/>
                            <div class="o_address_format"
                                 attrs="{'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}">
                                <field name="street"
                                       attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                       placeholder="Street..."
                                       class="o_address_street"/>
                                <field name="zip"
                                       attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                       placeholder="ZIP"
                                       class="o_address_zip"/>
                                <field name="city"
                                       attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                       placeholder="City"
                                       class="o_address_city"/>
                                <field name="country_id"
                                       attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                       placeholder="Country"
                                       class="o_address_country"/>
                            </div>
                            <field name="time_start"
                                   attrs="{
                           'readonly': [('interpreter_booking_ref', '!=', False)],
                           'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                           'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>

                            <field name="time_end" attrs="{
                        'readonly': [('interpreter_booking_ref', '!=', False)],
                       'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                       'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>

                        </group>
                        <group>
                            <field name="date_deadline"
                                   attrs="{'invisible': ['|', ('activity_category', '=', 'meeting'),('activity_type_id', '=', 6)]}"/>
                            <field name="user_id"/>
                            <field name="interpreter_gender_preference"
                                   attrs="{
                           'readonly': [('interpreter_booking_ref', '!=', False)],
                           'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                           'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                   options="{'no_quick_create': True, 'no_create_edit' : True}"/>

                            <field name="interpreter_language"
                                   attrs="{
                            'readonly': [('interpreter_booking_ref', '!=', False)],
                            'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                            'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                   options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                            <field name="interpreter_name" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_ref" readonly="1" attrs="{
                        'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_phone" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_gender" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_company" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_contact_person" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_contact_phone" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_booking_status" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="interpreter_booking_ref" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                            <field name="_interpreter_booking_status" invisible="1"/>
                            <field name="_interpreter_booking_status_2" invisible="1"/>
                            <button name="%(deliver_interpreter_action)d"
                                    attrs="{'invisible': ['|', '|', '|', ('_interpreter_booking_status_2', '=', '2'),
                                              ('_interpreter_booking_status', '=', '2'),
                                              ('interpreter_booking_ref', '=', False),
                                              ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                                    type="action">Inleverera tolk
                            </button>
                        </group>
                    </group>
                    <field name="note" placeholder="Log a note..."/>
                </sheet>
            </form>
        </field>
    </record>

    <record id="mail_activity_kanban_view_for_interpreter" model="ir.ui.view">
        <field name="name">mail.activity.kanban.inherit.interpreter</field>
        <field name="model">mail.activity</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="summary"/>
                <field name="interpreter_type"/>
                <field name="time_start"/>
                <field name="partner_name"/>
                <field name="outplacement_name"/>
                <field name="outplacement_name"/>
                <field name="res_name"/>
                <field name="activity_status_for_interpreter"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="oe_kanban_details">
                                <b>Partner Name</b>
                                <field name="partner_name"/>
                                <br/>
                                <b>Outplacement:</b>
                                <field name="outplacement_name"/>
                                <br/>
                                <b>Order:</b>
                                <field name="order_name"/>
                                <br/>
                                <b>Task:</b>
                                <field name="res_name"/>
                                <br/>
                                <field name="summary"/>
                                <br/>
                                <field name="interpreter_type"/>
                                <br/>
                                <t t-if="record.activity_status_for_interpreter.value == 'not_delivered_booking'">
                                    <span style="color:red;">Please submit the Interpreter</span>
                                </t>
                                <br/>
                                <field name="time_start"/>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="mail_activity_search_view_for_interpreter_booking" model="ir.ui.view">
        <field name="name">mail.activity.search.inherit.interpreter</field>
        <field name="model">mail.activity</field>
        <field name="arch" type="xml">
            <search string="Activity">
                <field name="interpreter_booking_ref"/>
                <field name="partner_name"/>
                <field name="performing_operation_id"/>
                <field name="outplacement_name"/>
                <field name="order_name"/>
                <field name="employee_id"/>
                <filter string="My Activities" name="activities_my" domain="[('user_id', '=', uid)]"/>
                <separator/>
                <filter string="Late Activities" name="activities_overdue"
                        domain="[('date_deadline', '&lt;', context_today().strftime('%Y-%m-%d'))]"
                        help="Show all records which has next action date is before today"/>
                <filter string="Today Activities" name="activities_today"
                        domain="[('date_deadline', '=', context_today().strftime('%Y-%m-%d'))]"/>
                <filter string="Future Activities" name="activities_upcoming_all"
                        domain="[('date_deadline', '&gt;', context_today().strftime('%Y-%m-%d'))]"/>
                <separator/>
                <filter string="Awaiting Response" name="activities_awaiting_booking"
                        domain="[('user_id', '=', uid),
                         ('activity_status_for_interpreter', '=', 'awaiting_booking')]"/>
                <filter string="Failed Bookings" name="activities_failed_booking"
                        domain="[('user_id', '=', uid),
                         ('activity_status_for_interpreter', '=', 'failed_booking')]"/>
                <filter string="Done Bookings" name="activities_done_booking"
                        domain="[('user_id', '=', uid), ('active', '=', False),
                        ('activity_status_for_interpreter', '=', 'done_booking')]"/>
                <filter string="All Bookings" name="activities_all_booking"
                        domain="[('user_id', '=', uid),
                        ('activity_status_for_interpreter', 'in', ('all_booking', 'awaiting_booking', 'failed_booking',
                        'done_booking', 'ongoing_booking', 'not_delivered_booking')),
                        '|', ('active', '=', True), ('active', '=', False)]"/>
                <filter string="Ongoing" name="activities_ongoing_booking"
                        domain="[('user_id', '=', uid), ('activity_status_for_interpreter', '=', 'ongoing_booking')]"/>
                <filter string="Not Delivered" name="activities_not_delivered_booking"
                        domain="[('user_id', '=', uid),
                        ('activity_status_for_interpreter', '=', 'not_delivered_booking')]"/>
                <filter string="Cancelled By Interpreter" name="activities_cancelled_by_interpreter"
                        domain="[('user_id', '=', uid),
                        ('activity_status_for_interpreter', '=', 'cancelled_by_interpreter')]"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter string="Deadline" name="date_deadline" context="{'group_by': 'date_deadline'}"/>
                    <filter string="Created By" name="createdby" context="{'group_by': 'create_user_id'}"/>
                    <filter string="Activity Type" name="activittype" context="{'group_by': 'activity_type_id'}"/>
                    <filter string="Booking Status" name="booking_status"
                            context="{'group_by': 'interpreter_booking_status'}"/>
                    <filter string="Jobseeker Category" name="jobseeker_category"
                            context="{'group_by': 'jobseeker_category'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="interpreter" model="ir.ui.view">
        <field name="name">mail.activity.form.inherit.calendar</field>
        <field name="model">mail.activity</field>
        <field name="inherit_id" ref="mail.mail_activity_view_form_popup"/>
        <field name="priority">20</field>
        <field name="arch" type="xml">
            <field name='date_deadline' position="attributes">
                <attribute name="attrs">
                    {'invisible': ['|', ('activity_category', '=', 'meeting'), ('activity_type_id', '=',
                    %(outplacement_order_interpreter.order_interpreter)d)]}
                </attribute>
            </field>
            <field name="summary" position="after">
                <field name='interpreter_type_code' invisible='1'/>
                <field name="interpreter_type"
                       attrs="{
                            'readonly': [('interpreter_booking_ref', '!=', False)],
                            'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                            'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                <field name="interpreter_remote_type"
                       attrs="{
                            'readonly': [('interpreter_booking_ref', '!=', False)],
                            'required': [('interpreter_type_code', '=', '2'),
                                         ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                            'invisible': ['|',
                                          ('interpreter_type_code', '!=', '2'),
                                          ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                <field name="interpreter_receiver"
                       attrs="{
                            'invisible': ['|',
                                ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d),
                                ('interpreter_type_code', '!=', '3'),],
                            'required': [('interpreter_type_code', '=', '3'),
                                         ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                <label for="street" string="Address" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)],}"/>
                <div class="o_address_format"
                     attrs="{'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}">
                    <field name="street"
                           attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                           placeholder="Street..."
                           class="o_address_street"/>
                    <field name="zip"
                           attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                           placeholder="ZIP"
                           class="o_address_zip"/>
                    <field name="city"
                           attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                           placeholder="City"
                           class="o_address_city"/>
                    <field name="country_id"
                           attrs="{'readonly': [('interpreter_booking_ref', '!=', False)],
                                   'required': [('interpreter_type_code', '=', '3'),
                                                ('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                           placeholder="Country"
                           class="o_address_country"/>
                </div>
                <field name="time_start"
                       attrs="{
                           'readonly': [('interpreter_booking_ref', '!=', False)],
                           'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                           'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>

                <field name="time_end" attrs="{
                        'readonly': [('interpreter_booking_ref', '!=', False)],
                       'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                       'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
            </field>
            <field name="user_id" position="after">
                <field name="interpreter_gender_preference"
                       attrs="{
                           'readonly': [('interpreter_booking_ref', '!=', False)],
                           'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                           'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>

                <field name="interpreter_language"
                       attrs="{
                            'readonly': [('interpreter_booking_ref', '!=', False)],
                            'required': [('activity_type_id', '=', %(outplacement_order_interpreter.order_interpreter)d)],
                            'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                <field name="interpreter_name" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_ref" readonly="1" attrs="{
                        'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_phone" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_gender" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_company" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_contact_person" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_contact_phone" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_booking_status" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="interpreter_booking_ref" readonly="1" attrs="{
                    'invisible': [('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"/>
                <field name="_interpreter_booking_status" invisible="1"/>
                <field name="_interpreter_booking_status_2" invisible="1"/>
                <button name="%(deliver_interpreter_action)d"
                        attrs="{'invisible': ['|', '|', '|', ('_interpreter_booking_status_2', '=', '2'),
                                              ('_interpreter_booking_status', '=', '2'),
                                              ('interpreter_booking_ref', '=', False),
                                              ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                        type="action">Inleverera tolk
                </button>
            </field>
            <button name="action_done" position="attributes">
                <attribute name="attrs">
                    {'invisible': ['|', ('force_next', '=', True), ('activity_type_id', '=',
                    %(outplacement_order_interpreter.order_interpreter)d)]}
                </attribute>
            </button>
            <button name="action_done_schedule_next" position="attributes">
                <attribute name="attrs">
                    {'invisible': ['|', ('force_next', '=', True), ('activity_type_id', '=',
                    %(outplacement_order_interpreter.order_interpreter)d)]}
                </attribute>
            </button>
        </field>
    </record>

    <record id="action_update_activity_status" model="ir.actions.server">
        <field name="name">Update Activity Status</field>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="code">
            records.update_activity_status()
        </field>
    </record>

    <record id="action_remove_booking_confirmed_repetative_log" model="ir.actions.server">
        <field name="name">Remove Booking Confirmed Repetative Log</field>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="model_id" ref="outplacement.model_outplacement"/>
        <field name="code">
            records.remove_booking_confirmed_repetative_log()
        </field>
    </record>

     <record id="action_update_activity_duration" model="ir.actions.server">
        <field name="name">Update Activity Duration</field>
        <field name="type">ir.actions.server</field>
        <field name="state">code</field>
        <field name="model_id" ref="mail.model_mail_activity"/>
        <field name="code">
            records.update_activity_duration()
        </field>
    </record>


    <record id="mail_activity_tree_view_for_interpreter" model="ir.ui.view">
        <field name="name">mail.activity.tree.inherit.interpreters</field>
        <field name="model">mail.activity</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <tree>
                <field name="interpreter_booking_ref"/>
                <field name="user_id"/>
                <field name="phone"/>
                <field name="mobile"/>
                <field name="email"/>
                <field name="time_start"/>
                <field name="time_end"/>
                <field name="interpreter_language"/>
                <field name="interpreter_company"/>
                <field name="interpreter_booking_status"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="mail_activity_pivot_view_for_interpreter">
        <field name="name">mail.activity.pivot</field>
        <field name="model">mail.activity</field>
        <field name="arch" type="xml">
            <pivot string="Interpreter Booking" disable_linking="True">
                <field name="user_id" type="row"/>
                <field name="interpreter_remote_type" type="row"/>
                <field name="interpreter_language" type="row"/>
                <field name="date" interval="month" type="col"/>
                <field name="additional_time" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="mail_activity_calendar_view_for_interpreter" model="ir.ui.view">
        <field name="name">mail.activity.calendar</field>
        <field name="model">mail.activity</field>
        <field name="arch" type="xml">
            <calendar date_start="time_start" date_stop="time_end" string="Intepreter" color="user_id"
                      readonly_form_view_id="%(outplacement_order_interpreter.mail_activity_form_view_for_interpreter)s"
                      event_open_popup="true">
                <field name="task_outplacement_id"/>
            </calendar>
        </field>
    </record>

    <record model="ir.actions.act_window" id="interpreter_activity_action">
        <field name="name">Activity</field>
        <field name="res_model">mail.activity</field>
        <field name="view_mode">kanban,tree,calendar,form</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_search_view_for_interpreter_booking"/>
        <field name="domain">[('user_id', '=', uid)]</field>
    </record>

    <record id="interpreter_activity_action_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="4"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_form_view_for_interpreter"/>
        <field name="act_window_id" ref="interpreter_activity_action"/>
    </record>

    <record id="interpreter_activity_action_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_tree_view_for_interpreter"/>
        <field name="act_window_id" ref="interpreter_activity_action"/>
    </record>

    <record id="interpreter_activity_action_kanban" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">kanban</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_kanban_view_for_interpreter"/>
        <field name="act_window_id" ref="interpreter_activity_action"/>
    </record>

    <record id="interpreter_activity_action_calendar" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_calendar_view_for_interpreter"/>
        <field name="act_window_id" ref="interpreter_activity_action"/>
    </record>

    <record id="mail_activity_tree_view_for_interpreters_menu" model="ir.ui.view">
        <field name="name">mail.activity.tree.inherit.interpreters.menu</field>
        <field name="model">mail.activity</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <tree>
                <field name="interpreter_booking_ref"/>
                <field name="jobseeker_category"/>
                <field name="user_id"/>
                <field name="phone"/>
                <field name="mobile"/>
                <field name="email"/>
                <field name="time_start" invisible="1"/>
                <field name="time_end" invisible="1"/>
                <field name="date"/>
                <field name="split_start_time" string="Start Time"/>
                <field name="split_end_time" string="End Time"/>
                <field name="duration"/>
                <field name="additional_time"/>
                <field name="interpreter_language"/>
                <field name="interpreter_company"/>
                <field name="interpreter_booking_status"/>
            </tree>
        </field>
    </record>

    <record id="mail_activity_form_view_for_interpreters_menu" model="ir.ui.view">
        <field name="name">mail.activity.form.inherit.interpreters.menu</field>
        <field name="model">mail.activity</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="interpreter_booking_ref"/>
                            <field name="time_start"/>
                            <field name="time_end"/>
                            <field name="date"/>
                            <field name="split_start_time" string="Start Time"/>
                            <field name="split_end_time" string="End Time"/>
                            <field name="duration"/>
                            <field name="additional_time"/>
                            <field name="interpreter_language"/>
                            <field name="interpreter_company"/>
                            <field name="interpreter_booking_status"/>
                        </group>
                        <group>
                            <field name="interpreter_receiver"/>
                            <field name="user_id"/>
                            <field name="phone"/>
                            <field name="mobile"/>
                            <field name="_interpreter_booking_status_2" invisible="1"/>
                            <field name="_interpreter_booking_status" invisible="1"/>
                            <field name="activity_type_id" invisible="1"/>
                            <field name="res_model_id" invisible="1"/>
                        </group>
                    </group>
                    <button name="%(deliver_interpreter_action)d" groups="outplacement.group_outplacement_user_read"
                            attrs="{'invisible': ['|', '|', '|', ('_interpreter_booking_status_2', '=', '2'),
                                              ('_interpreter_booking_status', '=', '2'),
                                              ('interpreter_booking_ref', '=', False),
                                              ('activity_type_id', '!=', %(outplacement_order_interpreter.order_interpreter)d)]}"
                            type="action">Inleverera tolk
                    </button>
                    <group string="Supplier and Participent info">
                        <field name="performing_operation_id"/>
                        <field name="outplacement_id" groups="outplacement.group_outplacement_user_read"/>
                        <field name="jobseeker_category"/>
                        <field name="task_outplacement_id" groups="outplacement.group_outplacement_user_read"/>
                        <field name="order_id"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record model="ir.actions.act_window" id="interpreters_menu_action">
        <field name="name">Interpreters</field>
        <field name="res_model">mail.activity</field>
        <field name="view_mode">tree,form,pivot,calendar</field>
        <field name="search_view_id"
               ref="outplacement_order_interpreter.mail_activity_search_view_for_interpreter_booking"/>
        <field name="context">{'from_outplacement_interpreters_menu':1}</field>
    </record>

    <record id="interpreter_menu_action_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="4"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_form_view_for_interpreters_menu"/>
        <field name="act_window_id" ref="interpreters_menu_action"/>
    </record>

    <record id="interpreter_menu_action_kanban" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_tree_view_for_interpreters_menu"/>
        <field name="act_window_id" ref="interpreters_menu_action"/>
    </record>

    <record id="interpreter_menu_action_pivot" model="ir.actions.act_window.view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">pivot</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_pivot_view_for_interpreter"/>
        <field name="act_window_id" ref="interpreters_menu_action"/>
    </record>

    <record id="interpreter_menu_action_calendar" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">calendar</field>
        <field name="view_id" ref="outplacement_order_interpreter.mail_activity_calendar_view_for_interpreter"/>
        <field name="act_window_id" ref="interpreters_menu_action"/>
    </record>

    <menuitem
            id="menu_outplacement_interpreters"
            action="interpreters_menu_action"
            name="Interpreters"
            groups="base_user_groups_dafa.interpreter_accountant"
            sequence="76"/>


</odoo>
